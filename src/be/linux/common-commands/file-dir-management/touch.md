---
title: touch
article: false
order: 
---

`touch` 命令在 Linux 和类 Unix 系统中用于更改文件的时间戳或创建一个新的空文件。如果指定的文件不存在，`touch` 会创建一个空文件；如果文件已经存在，`touch` 默认会更新该文件的访问和修改时间为当前时间。以下是 `touch` 命令的详细解释：

### 一、基本语法

```bash
bash复制代码

touch [选项] 文件...
```

其中，`touch` 是命令本身，`[选项]` 表示可选的参数，用于改变命令的默认行为。`文件...` 表示要操作的一个或多个文件。

### 二、常用选项

1. **-a 或 --time=atime 或 --time=access**：只更改访问时间。
2. **-m 或 --time=mtime 或 --time=modify**：只更改修改时间（默认行为）。
3. **-c 或 --no-create**：不创建任何文件。如果指定的文件不存在，则不会创建新文件，也不会显示错误信息。
4. **-d, --date=STRING**：使用指定的字符串来设置时间戳，而不是当前时间。字符串格式可以是各种日期和时间格式，如 `2023-04-01 12:34:56`。
5. **-f**：如果文件不存在，则不会尝试创建它，也不会显示错误信息。这与 `-c` 选项类似，但在处理多个文件时行为略有不同。
6. **-h, --no-dereference**：如果指定的是符号链接，则更改符号链接本身的时间戳，而不是链接指向的文件的时间戳。
7. **-r, --reference=FILE**：使用指定文件的时间戳来更新目标文件的时间戳。
8. **-t [[CC]YY]MMDDhhmm[.ss]**：使用指定的时间（而不是当前时间）来设置文件的时间戳。时间格式为 `[[世纪]年]月日时分[.秒]`。
9. **--time=WORD**：指定要更改的时间戳类型。`WORD` 可以是 `atime`（访问时间）、`mtime`（修改时间）或 `ctime`（状态更改时间，但 `touch` 通常不支持直接更改 `ctime`）。

### 三、使用示例

1. **创建一个新文件**：

```bash
bash复制代码

touch newfile.txt
```

这将创建一个名为 `newfile.txt` 的空文件。

1. **更新文件的时间戳**：

```bash
bash复制代码

touch existingfile.txt
```

如果 `existingfile.txt` 已经存在，这将更新其访问和修改时间为当前时间。

1. **只更改文件的访问时间**：

```bash
bash复制代码

touch -a existingfile.txt
```

或者指定 `--time=atime`：

```bash
bash复制代码

touch --time=atime existingfile.txt
```

这将只更新 `existingfile.txt` 的访问时间。

1. **使用指定日期和时间创建或更新文件**：

```bash
bash复制代码

touch -d "2023-04-01 12:34:56" neworupdatedfile.txt
```

这将创建一个名为 `neworupdatedfile.txt` 的文件（如果文件不存在），或者更新现有文件的时间戳为指定的日期和时间。

1. **参考另一个文件的时间戳**：

```bash
bash复制代码

touch -r referencefile.txt targetfile.txt
```

这将使用 `referencefile.txt` 的时间戳来更新 `targetfile.txt` 的时间戳。

### 四、注意事项

1. **权限问题**：要更改文件的时间戳或创建新文件，用户需要对目标文件或目录有适当的写权限。
2. **符号链接**：默认情况下，`touch` 会更改符号链接指向的文件的时间戳。如果希望更改符号链接本身的时间戳，请使用 `-h` 选项。
3. **时间格式**：当使用 `-d` 或 `-t` 选项时，请确保提供正确的时间格式。错误的时间格式可能会导致命令失败。
4. **文件存在性**：使用 `-c` 或 `-f` 选项可以避免在文件不存在时显示错误信息或创建新文件。这在编写脚本时特别有用，因为可以确保脚本不会因为文件不存在而中断执行。

综上所述，`touch` 命令是一个功能强大且灵活的工具，用于管理文件的时间戳和创建新文件。通过合理使用其各种选项和注意事项，可以高效地管理文件系统。