---
title: netstat
article: false
order: 
---

netstat是一个用于显示网络连接、路由表和网络接口统计信息的命令行工具。它可以显示当前系统的网络状态，查看哪些端口正在监听，哪些连接已经建立，以及网络接口的统计信息。以下是对netstat命令的详细解析：

### 一、命令格式

netstat命令的一般格式为：

```bash
bash复制代码

netstat [options]
```

其中，options为可选参数，用于指定netstat命令的输出内容和格式。

### 二、常用选项

1. **-a或--all**：显示所有连线中的Socket，包括正在监听的连接和已建立的连接。
2. **-t或--tcp**：仅显示TCP协议的连接。
3. **-u或--udp**：仅显示UDP协议的连接。
4. **-n或--numeric**：以数字形式显示地址和端口号，而不进行域名解析。这有助于加快命令的执行速度，因为域名解析可能会消耗较多时间。
5. **-r或--route**：显示路由表信息，包括目标地址、网关、接口和标志等。
6. **-s或--statistic**：显示网络接口统计信息，如传输层和网络层的数据包、错误、丢失等信息。
7. **-p或--programs**：显示占用端口的进程信息，包括进程ID（PID）和进程名称。这有助于用户识别哪个进程正在使用特定的端口。
8. **-l或--listening**：仅显示处于监听状态的连接。
9. **-c或--continuous**：持续输出信息，每隔一段时间自动刷新显示。这有助于用户实时监控网络状态的变化。
10. **-e或--extend**：显示扩展信息，包括UID、GID、Inode等。这提供了有关网络连接的更详细信息。

此外，netstat命令还支持其他选项，如-A（列出指定网络类型的连线中的相关地址）、-F（显示FIB）、-g（显示多重广播功能群组组员名单）等，这些选项在特定场景下可能非常有用。

### 三、输出内容解析

netstat命令的输出内容通常包括以下几列：

1. **Proto**：显示网络协议类型，如TCP或UDP。
2. **Recv-Q**：显示接收队列的数据量。
3. **Send-Q**：显示发送队列的数据量。
4. **Local Address**：本地地址，即本地主机的IP地址和端口号。
5. **Foreign Address**：远程地址，即远程主机的IP地址和端口号。
6. **State**：连接状态，如ESTABLISHED（已建立）、LISTENING（监听中）、TIME_WAIT（等待足够的时间以确保远程端已收到连接终止的确认）等。

### 四、使用示例

1. **显示所有连接和监听端口**：

```bash
bash复制代码

netstat -a
```

1. **显示TCP协议的连接**：

```bash
bash复制代码

netstat -t
```

1. **以数字形式显示所有连接和监听端口**：

```bash
bash复制代码

netstat -an
```

1. **显示路由表信息**：

```bash
bash复制代码

netstat -r
```

1. **显示网络接口统计信息**：

```bash
bash复制代码

netstat -s
```

1. **显示占用端口的进程信息**：

```bash
bash复制代码

netstat -p
```

1. **持续显示网络状态信息**：

```bash
bash复制代码

netstat -c
```

1. **查找指定端口是否被占用**：

```bash
bash复制代码

netstat -an | grep <port>
```

1. **查找指定端口所属的进程**：

```bash
bash复制代码

netstat -ap | grep <port>
```

netstat命令是一个功能强大的网络诊断工具，通过合理使用其各种选项，用户可以深入了解系统的网络状态，从而进行有效的网络管理和故障排除。