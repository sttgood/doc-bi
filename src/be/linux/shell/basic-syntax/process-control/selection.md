---
title: 选择
article: false
order: 2
---

在 Bash 脚本编程中，选择结构主要通过 `if` 语句和 `case` 语句来实现。这些结构允许脚本根据条件或变量的值来执行不同的代码块。

### 一、if 语句

`if` 语句是 Bash 中最常用的选择结构之一，它允许脚本根据条件表达式的真假来执行不同的代码块。

#### 基本语法

```bash
if [ 条件表达式 ]; then
    # 当条件为真时执行的命令
elif [ 另一个条件表达式 ]; then
    # 当第一个条件为假且第二个条件为真时执行的命令
else
    # 当所有条件都为假时执行的命令
fi
```

- `[ 条件表达式 ]`：条件表达式必须被方括号包围，并且与方括号之间必须有空格。
- `then`：如果条件为真，则执行 `then` 后面的命令块。
- `elif`：可选的，用于提供额外的条件分支。
- `else`：可选的，当所有条件都不满足时执行 `else` 后面的命令块。
- `fi`：表示 `if` 语句的结束。

#### 条件表达式

条件表达式可以是算术比较、字符串比较或文件测试。例如：

- 算术比较：`(( a > b ))`
- 字符串比较：`[ "$a" = "$b" ]`
- 文件测试：`[ -e /path/to/file ]`（检查文件是否存在）

### 二、case 语句

`case` 语句是另一种选择结构，它允许脚本根据变量的值匹配不同的模式，并执行相应的代码块。

#### 基本语法

```bash
case 变量 in
    模式1)
        # 当变量匹配模式1时执行的命令
        ;;
    模式2)
        # 当变量匹配模式2时执行的命令
        ;;
    *)
        # 当变量不匹配任何模式时执行的默认命令
        ;;
esac
```

- `case 变量 in`：开始一个 `case` 语句，`变量` 是要匹配的变量。
- `模式)`：定义一个模式，如果 `变量` 的值与该模式匹配，则执行该模式后面的命令块。
- `;;`：表示一个模式块的结束。
- `*)`：默认模式，当 `变量` 的值不匹配任何指定模式时执行。
- `esac`：表示 `case` 语句的结束。

#### 模式

模式可以是具体的字符串或包含通配符的表达式。Bash 中的通配符包括 `*`（匹配任意长度的任意字符）、`?`（匹配单个任意字符）和 `[]`（匹配方括号内的任意单个字符）。

通过 `if` 语句和 `case` 语句，Bash 脚本可以根据不同的条件执行不同的代码块，从而实现复杂的选择逻辑。
