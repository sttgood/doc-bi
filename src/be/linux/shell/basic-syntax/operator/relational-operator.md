---
title: 关系运算符
order: 2
article: false
---

## **数值比较**

（在 `[[ ]]` 或 `(( ))` 中使用）

| 运算符 | 描述     | 示例                |
| :----- | :------- | :------------------ |
| `-eq`  | 等于     | `[[ "$a" -eq 10 ]]` |
| `-ne`  | 不等于   | `[[ "$a" -ne 5 ]]`  |
| `-gt`  | 大于     | `[[ "$a" -gt 20 ]]` |
| `-lt`  | 小于     | `[[ "$a" -lt 5 ]]`  |
| `-ge`  | 大于等于 | `[[ "$a" -ge 10 ]]` |
| `-le`  | 小于等于 | `[[ "$a" -le 3 ]]`  |

## **字符串比较**

（在 `[[ ]]` 中使用）

| 运算符 | 描述       | 示例                       |
| :----- | :--------- | :------------------------- |
| `==`   | 字符串相等 | `[[ "$str" == "yes" ]]`    |
| `!=`   | 字符串不等 | `[[ "$str" != "no" ]]`     |
| `>`    | 字典序大于 | `[[ "a" > "b" ]]` → 假     |
| `<`    | 字典序小于 | `[[ "b" < "c" ]]` → 真     |
| `=~`   | 正则匹配   | `[[ "$str" =~ ^[0-9]+$ ]]` |

## 符合和关键字区别

- 关键字形式 (`-gt`, `-lt`, `-ge`, `-le`, `-eq`, `-ne`)

这些是比较运算符的关键字形式，通常用于 `[ ]` 或 `[[ ]]` 测试命令中。它们主要用于整数比较，并且需要在方括号内使用，同时要注意两边留有空格。

- `-gt`: 大于 (greater than)
- `-lt`: 小于 (less than)
- `-ge`: 大于等于 (greater than or equal to)
- `-le`: 小于等于 (less than or equal to)
- `-eq`: 等于 (equal to)
- `-ne`: 不等于 (not equal to)

```bash
if [ "$a" -gt "$b" ]; then
  echo "$a is greater than $b"
fi
```

或者使用 `[[ ]]`：

```bash
if [[ $a -gt $b ]]; then
  echo "$a is greater than $b"
fi
```

- 符号形式 (`>`, `<`, `>=`, `<=`, `==`, `!=`)

符号形式通常用于算术扩展或双括号 `(())` 内部，也可以在 `[[ ]]` 中使用而不需要转义。它们同样适用于整数比较，但在某些情况下也支持字符串比较，尤其是在 `[[ ]]` 中。

例如，在算术扩展中：

```bash
if (( a > b )); then
  echo "$a is greater than $b"
fi
```

在 `[[ ]]` 中使用符号形式进行比较：

```bash
if [[ $a -gt $b ]]; then
  echo "$a is greater than $b"
elif [[ $a > $b ]]; then
  echo "Also, $a is greater than $b using symbolic comparison"
fi
```

**总结：**

1. **适用范围**：关键字形式（如 `-gt`）专门用于整数比较，而符号形式（如 `>`）除了支持整数比较外，在 `[[ ]]` 中还可以进行字符串比较。

2. **语法要求**：关键字形式必须与 `[ ]` 或 `[[ ]]` 结合使用，并且两边要有空格；符号形式则可以在 `(())` 或 `[[ ]]` 中直接使用，无需额外空格（尽管最好还是加上以保持清晰性）。

3. **灵活性**：符号形式在 `[[ ]]` 中提供了更多的灵活性，比如可以直接使用正则表达式匹配等高级功能。

4. **错误处理**：当使用符号形式进行整数比较时，如果变量包含非数字字符，可能会导致语法错误，而关键字形式在这种情况下会将非数字部分忽略并尝试进行比较

   15

因此，选择哪种形式主要取决于具体的使用场景和个人偏好。对于整数比较，两种形式都可以使用，但符号形式在复杂表达式中可能更加直观和易于阅读。而对于字符串比较，建议使用 `[[ ]]` 和符号形式。
