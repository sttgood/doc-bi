---
title: 变量
article: false
dir:
  order: 2
  link: true
---

### 一、变量类型

1. **用户自定义变量**：这是最常用的变量类型，变量名和变量值都由用户自由定义，例如`name=value`。这种变量只在当前的Shell中生效。
2. **环境变量**：环境变量是全局变量，不仅在当前Shell中生效，还会在这个Shell的所有子Shell中生效。环境变量通常用于配置操作系统的环境，像提示符、查找命令的路径、用户家目录等。为了与用户自定义变量区分开来，提高代码的可读性和可维护性，环境变量名建议大写。
3. **位置参数变量**：主要用于向脚本传递参数或数据，变量名不能自定义，作用是固定的。例如，`$0`表示脚本名，`$1`、`$2`等表示传递给脚本的参数。
4. **预定义变量**：是Bash中已经定义好的变量，变量名不能自定义，变量作用也是固定的。例如，`$?`表示上一个命令的退出状态。

### 二、变量设置规则

1. 变量名可以由字母、数字和下划线组成，但不能以数字开头。
2. 在Bash中，变量默认为字符串类型，但可以通过算术运算符进行数值运算，无需显式指定变量类型。
3. 变量用等号`=`连接值，`=`左右两侧不能有空格。
4. 变量值中如果有空格，则需要使用单引号或双引号包含。双引号括起来的内容中的`$`和反引号拥有特殊含义，而单引号括起来的内容都是普通字符。

### 三、变量操作

1. **定义变量**：通过`变量名=变量值`的方式定义变量。
2. **查看变量**：使用`echo $变量名`来调用并查看变量的值。除了使用`set`命令查看系统中的所有变量（包括用户自定义变量和环境变量）外，还可以使用`printenv`命令查看所有环境变量。
3. **修改变量**：直接通过`变量名=新值`的方式修改变量的值。
4. **删除变量**：使用`unset`命令不仅可以删除用户自定义变量，还可以删除环境变量。例如，`unset VAR_NAME`。
5. **声明环境变量**：使用`export`变量名将用户自定义变量输出为环境变量。也可以使用`declare -x`变量名来声明环境变量。
6. **只读变量**：使用`readonly`变量名可以将变量设置为只读，之后无法修改或删除该变量。

### 四、注意事项

1. 变量名区分大小写，即`Var`和`var`是两个不同的变量。
2. 在使用变量时，建议使用`${变量名}`的形式来包围变量名，以避免与其他文本混淆。
3. 为了使环境变量在所有Shell会话中持久存在，可以将其添加到用户的配置文件中，如`~/.bashrc`或`~/.profile`。
