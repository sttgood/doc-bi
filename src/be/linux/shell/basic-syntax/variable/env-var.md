---
title: 环境变量
article: false
order: 2
---

Bash环境变量是Bash shell中用于存储有关shell会话和工作环境信息的特性。以下是对Bash环境变量的详细解释：

### 一、环境变量的分类

Bash中的环境变量主要分为两类：全局变量和局部变量。

1. **全局变量**：全局环境变量不仅对shell会话可见，而且对所有shell创建的子进程中需要获得父进程信息的程序也非常有用。系统环境变量通常用全大写字母表示，以区别于普通用户的环境变量。
2. **局部变量**：局部环境变量只能在定义它们的进程中可见。

### 二、环境变量的设置与查看

1. **设置环境变量**
   - **设置局部变量**：在Bash shell中，一旦启动了bash shell，就能创建在这个shell进程内可见的局部变量。可以通过等号来给环境变量赋值，值可以是数值或字符串。如果要给变量赋一个含有空格的字符串，必须用单引号或双引号来界定字符串的开始和结尾。
   - **设置全局变量**：创建全局环境变量的方法是先创建一个局部环境变量，然后再把它导出到全局环境中。这个过程通过export命令来完成。
2. **查看环境变量**
   - 可以使用printenv命令或echo命令查看环境变量的值。当引用环境变量时，必须在环境变量的名称前放置一个$符号。
   - 要显示单个环境变量，可以使用echo命令。
   - 要查看局部环境变量的列表，可以使用set命令，但需要注意的是，set命令会显示某个特定进程设置的所有环境变量，包括全局变量。

### 三、常见环境变量及其作用

以下是一些常见的Bash环境变量及其作用：

1. **PATH**：决定了shell将到哪些目录中寻找命令或程序。
2. **ROOTPATH**：这个变量的功能和PATH相同，但它只罗列出超级用户（root）键入命令时所需检查的目录。
3. **LOGNAME**：查看当前用户的登录名。
4. **UID**：当前用户的识别字，取值是由数位构成的字串。
5. **SHELL**：是指当前用户用的是哪种Shell。
6. **TERM**：终端的类型。
7. **PWD**：当前工作目录的绝对路径名，该变量的取值随cd命令的使用而变化。
8. **MAIL**：是指当前用户的邮件存放目录。
9. **HOSTNAME**：是指主机的名称，许多应用程序如果要用到主机名的话，通常是从这个环境变量中来取得的。
10. **PS1**：是基本提示符，对于root用户是#，对于普通用户是$，也可以使用一些更复杂的值。

此外，还有IFS（输入域分隔符）、LANG（语言环境）、LC_ALL（覆盖所有其他LC_XXX变量的值）、LD_LIBRARY_PATH（动态链接器查找库文件的目录）、MANPATH（man命令搜索man页面的目录）等环境变量。

### 四、环境变量的配置文件

对于全局更改，可以将变量添加到系统级或用户级的配置文件中。常见的配置文件包括：

1. **/etc/profile**：全局profile文件，它定义了LoginUser的PATH、USER、LOGNAME等。
2. **~/.bash_profile**：用户登录级别环境变量配置文件。
3. **~/.bashrc**：存储用户设定的别名和函数，shell级别环境变量配置文件。
4. **/etc/bashrc**：全局bashrc文件，它主要定义一些Function和Alias。

编辑文件后，需要重启终端或运行source命令（如source ~/.bashrc）使修改生效。

### 五、环境变量的操作

1. **变量的删除**：可以使用unset命令来删除环境变量。
2. **变量的叠加**：可以通过特定的语法实现变量的叠加操作。
3. **变量的替换与删除**：在已经存在变量后，可以使用特定的符号进行更改与删除操作。

综上所述，Bash环境变量是Bash shell中非常重要的特性之一，它允许在内存中存储数据以供程序和脚本访问。了解并掌握环境变量的设置、查看、常见变量及其作用以及配置文件等相关知识，将有助于更高效地使用Bash shell进行开发和管理工作。