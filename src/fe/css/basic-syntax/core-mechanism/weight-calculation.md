---
title: 权重计算
article: false
order: 3
---

CSS权重（Specificity）是用于决定当多个CSS规则应用于同一个元素时，哪个规则会被优先应用的机制。权重的计算基于选择器的类型和数量，权重值越高，优先级越高。

以下是CSS权重计算的规则和示例：

---

## **权重计算规则**
CSS权重由四个部分组成，按优先级从高到低排列：

1. **内联样式**：直接在HTML元素中通过 `style` 属性定义的样式，权重值为 `1,0,0,0`。
2. **ID选择器**：每个ID选择器的权重值为 `0,1,0,0`。
3. **类选择器、属性选择器、伪类**：每个类选择器、属性选择器或伪类的权重值为 `0,0,1,0`。
4. **元素选择器、伪元素**：每个元素选择器或伪元素的权重值为 `0,0,0,1`。

> **注意**：
> - 通用选择器（`*`）、组合器（`+`、`>`、`~`）和否定伪类（`:not()`）不影响权重。
> - `!important` 是最高优先级，会覆盖所有其他规则，但应谨慎使用。

---

## **权重比较规则**
权重从左到右逐级比较，数值大的优先级高。如果某一位数值相同，则比较下一位。

例如：
• `0,1,0,0` > `0,0,2,0`
• `0,1,1,0` > `0,1,0,0`
• `0,0,1,0` > `0,0,0,3`

---

## **权重计算示例**

### 1. **内联样式**
```html
<p style="color: red;">这是一个段落。</p>
```
权重值：`1,0,0,0`

---

### 2. **ID选择器**
```css
#header {
  color: blue;
}
```
权重值：`0,1,0,0`

---

### 3. **类选择器**
```css
.highlight {
  color: yellow;
}
```
权重值：`0,0,1,0`

---

### 4. **元素选择器**
```css
p {
  color: green;
}
```
权重值：`0,0,0,1`

---

### 5. **复合选择器**
```css
#header .highlight p {
  color: purple;
}
```
权重计算：
• `#header`：`0,1,0,0`
• `.highlight`：`0,0,1,0`
• `p`：`0,0,0,1`
总权重值：`0,1,1,1`

---

### 6. **伪类和属性选择器**
```css
a:hover {
  color: orange;
}

input[type="text"] {
  border: 1px solid #ccc;
}
```
权重值：`0,0,1,0`

---

### 7. **伪元素**
```css
p::first-line {
  font-weight: bold;
}
```
权重值：`0,0,0,1`

---

### 8. **`!important`**
```css
p {
  color: green !important;
}
```
`!important` 会覆盖所有其他规则，包括内联样式。

---

## **权重比较示例**

### 示例1
```css
#header .highlight p {
  color: purple; /* 权重：0,1,1,1 */
}

p.highlight {
  color: yellow; /* 权重：0,0,1,1 */
}
```
第一个规则优先级更高，因为 `0,1,1,1` > `0,0,1,1`。

---

### 示例2
```css
#header p {
  color: blue; /* 权重：0,1,0,1 */
}

.highlight {
  color: yellow; /* 权重：0,0,1,0 */
}
```
第一个规则优先级更高，因为 `0,1,0,1` > `0,0,1,0`。

---

### 示例3
```css
p {
  color: green; /* 权重：0,0,0,1 */
}

* {
  color: red; /* 权重：0,0,0,0 */
}
```
第一个规则优先级更高，因为 `0,0,0,1` > `0,0,0,0`。

---

## **总结**
• CSS权重用于决定哪个规则会被优先应用。
• 权重计算基于选择器的类型和数量，分为四个部分：内联样式、ID选择器、类选择器、元素选择器。
• 权重从左到右逐级比较，数值大的优先级高。
• `!important` 是最高优先级，但应谨慎使用。

通过理解CSS权重计算规则，可以更好地控制样式的优先级，避免样式冲突。
