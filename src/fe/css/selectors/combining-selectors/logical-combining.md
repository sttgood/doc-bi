---
title: 逻辑组合
article: false
order: 2
---

CSS 中的 **逻辑组合选择器**（如 `:is()`、`:where()` 和 `:not()`）是功能强大的伪类选择器，用于简化复杂的选择器逻辑并提高代码的可读性。以下是它们的详细解析：

---

### 一、`:is()` 伪类选择器

1. **语法**
   ```css
   :is(选择器列表) { 样式规则 }
   ```

2. **作用**
   • 将多个选择器组合在一起，匹配其中任意一个选择器。
   • 类似于传统的逗号分隔选择器（如 `A, B, C`），但更灵活且支持嵌套。

3. **示例**
   ```css
   :is(h1, h2, h3) {
     color: blue; /* 所有 h1、h2、h3 都会变成蓝色 */
   }
   ```

4. **优势**
   • 简化代码，减少重复。
   • 支持嵌套，避免重复书写父选择器。
   ```css
   .container :is(h1, h2, h3) {
     margin-bottom: 10px;
   }
   ```

5. **注意**
   • `:is()` 的特异性由其参数中最高特异性的选择器决定。

---

### 二、`:where()` 伪类选择器

1. **语法**
   ```css
   :where(选择器列表) { 样式规则 }
   ```

2. **作用**
   • 与 `:is()` 类似，用于组合多个选择器。
   • 区别在于 `:where()` 的特异性始终为 0，不会影响整体特异性。

3. **示例**
   ```css
   :where(h1, h2, h3) {
     color: green; /* 所有 h1、h2、h3 都会变成绿色 */
   }
   ```

4. **优势**
   • 适用于需要避免特异性冲突的场景。
   ```css
   .container :where(h1, h2, h3) {
     margin-bottom: 10px; /* 特异性为 .container，h1/h2/h3 的特异性为 0 */
   }
   ```

5. **注意**
   • `:where()` 的特异性始终为 0，适合用于覆盖默认样式。

---

### 三、`:not()` 伪类选择器

1. **语法**
   ```css
   :not(选择器) { 样式规则 }
   ```

2. **作用**
   • 选择不符合指定选择器的元素。
   • 支持嵌套，可以与其他伪类组合使用。

3. **示例**
   ```css
   p:not(.special) {
     color: red; /* 所有没有 .special 类的 <p> 元素都会变成红色 */
   }
   ```

4. **优势**
   • 用于排除特定元素，简化选择器逻辑。
   ```css
   li:not(:last-child) {
     margin-bottom: 10px; /* 除了最后一个 <li>，其他都有下边距 */
   }
   ```

5. **注意**
   • `:not()` 的参数可以是简单选择器（如类、ID、元素等），但不能是伪元素或其他复杂选择器。
   • `:not()` 的特异性由其参数决定。

---

### 四、逻辑组合选择器的实际应用

1. **简化复杂选择器**
   ```css
   /* 传统写法 */
   .container h1,
   .container h2,
   .container h3 {
     color: blue;
   }
   
   /* 使用 :is() */
   .container :is(h1, h2, h3) {
     color: blue;
   }
   ```

2. **避免特异性冲突**
   ```css
   /* 使用 :where() */
   .container :where(h1, h2, h3) {
     color: green; /* 特异性为 .container */
   }
   ```

3. **排除特定元素**
   ```css
   /* 使用 :not() */
   ul li:not(.disabled) {
     cursor: pointer; /* 排除 .disabled 的 <li> */
   }
   ```

4. **嵌套使用**
   ```css
   :is(article, section) :is(h1, h2) {
     font-weight: bold; /* 匹配 article 或 section 中的 h1 和 h2 */
   }
   ```

---

### 五、对比总结

| 选择器     | 语法              | 作用              | 特异性                 |
| ---------- | ----------------- | ----------------- | ---------------------- |
| `:is()`    | `:is(A, B, C)`    | 匹配 A、B 或 C    | 由参数中最高特异性决定 |
| `:where()` | `:where(A, B, C)` | 匹配 A、B 或 C    | 始终为 0               |
| `:not()`   | `:not(A)`         | 排除匹配 A 的元素 | 由参数决定             |

---

### 六、注意事项

1. **兼容性**
   • `:is()` 和 `:where()` 在现代浏览器中支持良好，但在旧版浏览器（如 IE）中不支持。
   • `:not()` 在大多数浏览器中支持，但参数不能是复杂选择器。

2. **性能**
   • 逻辑组合选择器可能会增加样式计算的开销，尤其是在复杂的 DOM 结构中。

3. **特异性**
   • `:is()` 和 `:not()` 的特异性由其参数决定，而 `:where()` 的特异性始终为 0。

---

### 七、总结

逻辑组合选择器（`:is()`、`:where()` 和 `:not()`）是 CSS 中强大的工具，能够简化复杂的选择器逻辑并提高代码的可读性和维护性。通过合理使用这些选择器，可以更高效地编写样式规则，同时避免特异性冲突和代码冗余。
