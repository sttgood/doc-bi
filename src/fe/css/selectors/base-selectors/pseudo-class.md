---
title: 伪类 hover nth-child focus-within
article: false
order: 3
---

**伪类选择器**是 CSS 中用于选择元素的特殊关键字，它们基于元素的状态、位置或结构来匹配元素。伪类选择器以冒号（`:`）开头，可以与元素选择器、类选择器、ID 选择器等组合使用。以下是常见的伪类选择器及其详细解析：

---

### 一、状态伪类

状态伪类用于根据元素的状态（如用户交互）来选择元素。

| 伪类选择器      | 描述                                         |
| --------------- | -------------------------------------------- |
| `:hover`        | 选择鼠标悬停时的元素。                       |
| `:active`       | 选择被激活（如点击）时的元素。               |
| `:focus`        | 选择获得焦点的元素（如表单输入框）。         |
| `:visited`      | 选择已访问过的链接。                         |
| `:link`         | 选择未访问过的链接。                         |
| `:checked`      | 选择被选中的表单元素（如复选框或单选按钮）。 |
| `:disabled`     | 选择被禁用的表单元素。                       |
| `:enabled`      | 选择可用的表单元素。                         |
| `:required`     | 选择必填的表单元素。                         |
| `:optional`     | 选择可选的表单元素。                         |
| `:valid`        | 选择验证通过的表单元素。                     |
| `:invalid`      | 选择验证失败的表单元素。                     |
| `:in-range`     | 选择值在指定范围内的表单元素。               |
| `:out-of-range` | 选择值超出指定范围的表单元素。               |

#### 示例
```css
a:hover {
  color: red; /* 鼠标悬停时链接变红 */
}

input:focus {
  border-color: blue; /* 输入框获得焦点时边框变蓝 */
}

input:checked {
  background-color: yellow; /* 选中复选框时背景变黄 */
}
```

---

### 二、结构伪类

结构伪类用于根据元素在 DOM 树中的位置或结构来选择元素。

| 伪类选择器             | 描述                                                         |
| ---------------------- | ------------------------------------------------------------ |
| `:first-child`         | 选择父元素的第一个子元素。                                   |
| `:last-child`          | 选择父元素的最后一个子元素。                                 |
| `:nth-child(n)`        | 选择父元素的第 n 个子元素（如 `2`、`even`、`odd`、`3n+1`）。 |
| `:nth-last-child(n)`   | 选择父元素的倒数第 n 个子元素。                              |
| `:first-of-type`       | 选择父元素中同类型的第一个子元素。                           |
| `:last-of-type`        | 选择父元素中同类型的最后一个子元素。                         |
| `:nth-of-type(n)`      | 选择父元素中同类型的第 n 个子元素。                          |
| `:nth-last-of-type(n)` | 选择父元素中同类型的倒数第 n 个子元素。                      |
| `:only-child`          | 选择父元素中唯一的子元素。                                   |
| `:only-of-type`        | 选择父元素中唯一类型的子元素。                               |
| `:empty`               | 选择没有子元素的元素（包括文本节点）。                       |

#### 示例
```css
li:first-child {
  font-weight: bold; /* 第一个 <li> 加粗 */
}

tr:nth-child(odd) {
  background-color: #f0f0f0; /* 奇数行背景变灰 */
}

p:only-child {
  color: green; /* 父元素中唯一的 <p> 变绿 */
}
```

---

### 三、表单伪类

表单伪类是状态伪类的子集，专门用于表单元素。

| 伪类选择器      | 描述                                         |
| --------------- | -------------------------------------------- |
| `:checked`      | 选择被选中的表单元素（如复选框或单选按钮）。 |
| `:disabled`     | 选择被禁用的表单元素。                       |
| `:enabled`      | 选择可用的表单元素。                         |
| `:required`     | 选择必填的表单元素。                         |
| `:optional`     | 选择可选的表单元素。                         |
| `:valid`        | 选择验证通过的表单元素。                     |
| `:invalid`      | 选择验证失败的表单元素。                     |
| `:in-range`     | 选择值在指定范围内的表单元素。               |
| `:out-of-range` | 选择值超出指定范围的表单元素。               |

#### 示例
```css
input:valid {
  border-color: green; /* 验证通过时边框变绿 */
}

input:invalid {
  border-color: red; /* 验证失败时边框变红 */
}
```

---

### 四、其他伪类

| 伪类选择器 | 描述                                                        |
| ---------- | ----------------------------------------------------------- |
| `:root`    | 选择文档的根元素（通常是 `<html>`）。                       |
| `:not()`   | 选择不符合指定选择器的元素。                                |
| `:is()`    | 选择匹配任意一个选择器的元素。                              |
| `:where()` | 与 `:is()` 类似，但特异性始终为 0。                         |
| `:has()`   | 选择包含指定子元素的父元素（目前支持有限）。                |
| `:lang()`  | 选择指定语言的元素（如 `:lang(en)`）。                      |
| `:target`  | 选择当前 URL 片段标识符匹配的元素（如锚点链接的目标元素）。 |

#### 示例
```css
:root {
  --primary-color: blue; /* 在根元素定义 CSS 变量 */
}

p:not(.special) {
  color: red; /* 排除 .special 类的 <p> 元素 */
}

a:target {
  background-color: yellow; /* 当前锚点目标元素背景变黄 */
}
```

---

### 五、伪类选择器的实际应用

1. **交互效果**
   ```css
   button:hover {
     background-color: #ddd; /* 按钮悬停时背景变灰 */
   }
   ```

2. **表格样式**
   ```css
   tr:nth-child(even) {
     background-color: #f9f9f9; /* 偶数行背景变浅灰 */
   }
   ```

3. **表单验证**
   ```css
   input:invalid {
     border-color: red; /* 验证失败时边框变红 */
   }
   ```

4. **列表样式**
   ```css
   li:last-child {
     border-bottom: none; /* 最后一个列表项无下边框 */
   }
   ```

---

### 六、注意事项

1. **兼容性**
   • 部分伪类选择器（如 `:has()`）在现代浏览器中支持有限，需谨慎使用。
   • 旧版浏览器（如 IE）可能不支持某些伪类选择器。

2. **性能**
   • 复杂的伪类选择器（如 `:nth-child()`）可能会增加样式计算的开销。

3. **特异性**
   • 伪类选择器的特异性与其父选择器相同，需注意与其他选择器的优先级冲突。

---

通过合理使用伪类选择器，可以为页面添加丰富的交互效果和动态样式，提升用户体验。
