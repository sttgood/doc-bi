---
title: 分组
article: false
order: 3
---

## 分组概述

在正则表达式中，分组（Grouping）是一种重要的功能，它允许你将正则表达式的一部分组合在一起，以便你可以对这部分进行引用或操作。分组使用圆括号 `()` 来实现。分组主要有以下几种用途：

- **引用分组内容：**

  引用之前匹配的内容，这在替换操作或者需要重复匹配某一部分内容时非常有用。

- **命名分组（Named Grouping）：**

  在一些正则表达式引擎中，你可以给分组命名，以便更清晰地引用它们。

- **非捕获分组（Non-capturing Grouping）**：

  只想分组而不捕获匹配的内容，可以使用 `(?:...)`。

- **前向引用（Back-references）：**

  在替换操作中，可以使用 `\n`（其中 `n` 是一个数字）来引用前面第 `n` 个分组的内容。

## 分组

### 1.基本分组

```regex
(\d{4})-(\d{2})-(\d{2})
```

这个正则表达式用于匹配日期格式 `YYYY-MM-DD`。圆括号内的部分就是分组，分别匹配年份、月份和日期。

### 2.引用分组内容

假设我们有一个字符串 `2025-10-05`，并且我们想用 `05/10/2025` 的格式替换它。可以使用如下替换规则：

```regex
(\d{4})-(\d{2})-(\d{2}) -> \3/\2/\1
```

这里的 `\1`、`\2` 和 `\3` 分别引用第一个、第二个和第三个分组的内容。

### 3.命名分组

在一些支持命名分组的正则表达式引擎中（如 Python 的 `re` 模块），你可以这样写：

```regex
(?P<year>\d{4})-(?P<month>\d{2})-(?P<day>\d{2})
```

然后你可以通过名字引用分组内容：

```python
import re
 
pattern = re.compile(r'(?P<year>\d{4})-(?P<month>\d{2})-(?P<day>\d{2})')
match = pattern.match('2023-10-05')
if match:
    year = match.group('year')
    month = match.group('month')
    day = match.group('day')
    print(f'{day}/{month}/{year}')  # 输出: 05/10/2023
```

### 4.非捕获分组

如果你只是想将一部分正则表达式组合在一起，但不希望捕获匹配的内容，可以使用 `(?:...)`：

```regex
(?:\d{4})-(\d{2})-(\d{2})
```

这里，年份部分 `(\d{4})` 被改为了非捕获分组 `(?:\d{4})`，只有月份和日期部分会被捕获。

### 5.前向引用

在替换操作中，你可以使用前向引用来重复之前匹配的内容：

```regex
(\w+)\s+\1
```

这个正则表达式匹配两个相同的单词，中间由一个或多个空格分隔。例如，在字符串 `hello hello` 中，`hello` 会被匹配两次，并且它们之间的空格数不限。
