---
title: 添加元素
article: false
order: 2
---

在Python中，`set`（集合）是一种用于存储唯一元素的数据结构。要向集合中添加元素，你可以使用`add()`方法。此外，虽然不常用，但你也可以通过集合的并集操作来间接地添加元素（这通常用于合并两个集合）。

### 使用 `add()` 方法添加元素

`add()` 方法接受一个参数，即你想要添加到集合中的元素。如果元素已经存在于集合中，`add()` 方法不会有任何效果（集合中的元素是唯一的）。

```python
my_set = {1, 2, 3}
my_set.add(4)  # 添加元素 4
print(my_set)  # 输出: {1, 2, 3, 4}（注意：集合是无序的，所以输出顺序可能不同）
 
# 尝试添加已经存在的元素
my_set.add(3)  # 不会有任何效果，因为 3 已经在集合中了
print(my_set)  # 输出仍然为: {1, 2, 3, 4}
```

### 使用并集操作间接添加元素

虽然不常见，但你可以通过并集操作来向集合中添加元素。这通常用于合并两个集合，但如果你只是想添加一个或几个元素，这种方法可能过于繁琐。不过，为了完整性，这里还是提一下。

```python
my_set = {1, 2, 3}
new_elements = {4, 5}  # 想要添加的新元素集合
 
# 使用并集操作合并集合
my_set = my_set | new_elements  # 或 my_set.update(new_elements)
print(my_set)  # 输出: {1, 2, 3, 4, 5}
```

在这个例子中，我们创建了一个新的集合 `new_elements`，它包含了我们想要添加到 `my_set` 中的元素。然后，我们使用并集操作符 `|`（或 `update()` 方法）来合并这两个集合。然而，对于单个元素的添加，这种方法显然不如直接使用 `add()` 方法简洁。

### 注意事项

- 集合中的元素必须是可哈希的（hashable），这意味着它们必须是不可变的（immutable）。例如，你不能将列表作为集合的元素，但可以将元组作为集合的元素。
- 由于集合是无序的，因此你不能通过索引来访问集合中的元素。相反，你可以使用循环来遍历集合中的元素。
- 如果尝试向集合中添加一个不可哈希的元素，Python 将引发一个 `TypeError`。